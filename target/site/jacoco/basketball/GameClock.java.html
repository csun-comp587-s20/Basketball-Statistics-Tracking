<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GameClock.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">basketball</a> &gt; <a href="index.source.html" class="el_package">basketball</a> &gt; <span class="el_source">GameClock.java</span></div><h1>GameClock.java</h1><pre class="source lang-java linenums">// Alex Eidt
// Basketball Statistics Tracking Program
// GameClock Class
// The GameClock class creates a count down timer.
package basketball;
import java.util.*;

public class GameClock {
	
	public Timer timer;		// The timer
	public TimerTask task;		// Updates the time
	public int time;			// The current time of the timer measured in tenths-seconds
	public int period;			// The current period of the game (1st, 2nd, 3rd ... quarter/half)
	public boolean running;	// If the clock is currently on/off
	
	// Pre:        'duration' is greater than 0, otherwise throws an IllegalArgumentException.
	// Parameters: 'duration' is an integer giving the length of one period in tenths-seconds.
	// Post:       Constructs a GameClock object initializing the period to be one and the duration
	//             as defined by the parameter 'duration'.
<span class="fc" id="L20">	public GameClock(int duration) {</span>
<span class="fc" id="L21">		checkTime(duration);</span>
<span class="fc" id="L22">		this.time = duration;</span>
<span class="fc" id="L23">		this.period = 1;</span>
<span class="fc" id="L24">	}</span>
	
	// Post: Returns the current period of the game.
	public int getPeriod() {
<span class="fc" id="L28">		return this.period;</span>
	}
	
	// Post: Returns the current time remaining in tenths of seconds.
	public int getTenthsTime() {
<span class="fc" id="L33">		return this.time;</span>
	}
	
	// Post: Returns the current time remaining in a String format that is specific
	//       to basketball time keeping.
	public String getTime() {
<span class="fc" id="L39">		return getBasketBallTime(this.time);</span>
	}
	
	// Pre:  'time' parameter is greater than or equal to 0, otherwise throws an IllegalArgumentException.
	// Post: Adds 'time' amount of time in tenths-seconds to the current time remaining.
	public void addTime(int time) {
<span class="fc" id="L45">		checkTime(time);</span>
<span class="fc" id="L46">		this.time += time;</span>
<span class="fc" id="L47">	}</span>
	
	// Pre:  Subtracting the 'time' parameter from the current time will not result in a negative time.
	//       Otherwise throws an IllegalStateException.
	// Post: Subtracts 'time' amount of time in tenths-seconds to the current time remaining.
	public void subtractTime(int time) {
<span class="fc bfc" id="L53" title="All 2 branches covered.">		if (this.time - time &lt; 0) {</span>
<span class="fc" id="L54">			throw new IllegalStateException(&quot;Subtracting &quot; + time + &quot; time would make the total time negative.&quot;);</span>
		}
<span class="fc" id="L56">		this.time -= time;</span>
<span class="fc" id="L57">	}</span>
	
	// Pre:  'time' is greater than 0, otherwise throws an IllegalArgumentException.
	// Post: Sets 'time' amount of time in tenths-seconds to the current time remaining.
	public void setTime(int time) {
<span class="fc" id="L62">		checkTime(time);</span>
<span class="fc" id="L63">		this.time = time;</span>
<span class="fc" id="L64">	}</span>
	
	// Post: Runs the timer which updates every tenth of a second. 
	//       Sets running to true.
	public void startTimer() {
<span class="fc" id="L69">		this.timer = new Timer();</span>
<span class="fc" id="L70">		this.task = new TimerTask() {</span>
			@Override
			public void run() {
<span class="pc bpc" id="L73" title="1 of 2 branches missed.">				if(time &lt;= 0) { 	</span>
					// If the time is 0, then the timer is stopped and the period is incremented
<span class="nc" id="L75">					timer.cancel();</span>
<span class="nc" id="L76">					period++;</span>
				} else {
<span class="fc" id="L78">					time--;</span>
				}
<span class="fc" id="L80">			}</span>
		};
<span class="fc" id="L82">		this.timer.schedule(this.task, 0, 100);</span>
<span class="fc" id="L83">		this.running = true;</span>
<span class="fc" id="L84">	}</span>
	
	// Post: Stops the timer and sets running to false.
	public void stopTimer() {
<span class="fc" id="L88">		this.timer.cancel();</span>
<span class="fc" id="L89">		this.running = false;</span>
<span class="fc" id="L90">	}</span>
	
	// Post: Returns true if the timer is running and false if it is not.
	public boolean isRunning() {
<span class="fc" id="L94">		return this.running;</span>
	}
	
	// Post: Returns a String representation of the given 'time' parameter in the standard basketball
	//       time keeping manner. The timer runs as normal while there is more than one minute left.
	//       Once there is less than a minute left, the tenths of seconds remaining are shown as well. 
	public String getBasketBallTime(int time) {
<span class="fc" id="L101">		checkTime(time);</span>
<span class="fc bfc" id="L102" title="All 2 branches covered.">		if(time &lt; 600) {</span>
<span class="fc" id="L103">			return (time / 10) + &quot;.&quot; + (time % 60 % 10);</span>
		} else {
<span class="fc bfc" id="L105" title="All 2 branches covered.">			if(time % 600 &lt; 100) {</span>
<span class="fc" id="L106">				return (time / 600) + &quot;:0&quot; + (time / 10 % 60);</span>
			} else {
<span class="fc" id="L108">				return (time / 600) + &quot;:&quot; + (time / 10 % 60);</span>
			}
		}
	}
	
	// Post: Throws an IllegalArgumentException is the 'time' parameter is negative.
	public void checkTime(int time) {
<span class="fc bfc" id="L115" title="All 2 branches covered.">		if (time &lt; 0) {</span>
<span class="fc" id="L116">			throw new IllegalArgumentException(&quot;Time cannot be negative.&quot;);</span>
		}
<span class="fc" id="L118">	}</span>
    
	// Post: Returns a String representation of the given 'time'.
	public String getTime(int time) {
<span class="fc bfc" id="L122" title="All 2 branches covered.">		if(time &lt; 600) {</span>
<span class="fc bfc" id="L123" title="All 2 branches covered.">			if(time &lt; 100) {</span>
<span class="fc" id="L124">				return &quot;00:0&quot; + time;</span>
			} else {
<span class="fc" id="L126">				return &quot;00:&quot; + (time % 60);</span>
			}
<span class="pc bpc" id="L128" title="1 of 2 branches missed.">		} else if(time &gt;= 600) {</span>
<span class="fc bfc" id="L129" title="All 2 branches covered.">			if(time &lt; 6000) {</span>
<span class="pc bpc" id="L130" title="1 of 2 branches missed.">				if(time % 60 &lt; 100) {</span>
<span class="fc" id="L131">					return &quot;0&quot; + (time / 60) + &quot;:0&quot; + (time % 60); </span>
				} else {
<span class="nc" id="L133">					return &quot;0&quot; + (time / 60) + &quot;:&quot; + (time % 60); </span>
				}
			} else {
<span class="fc bfc" id="L136" title="All 2 branches covered.">				if(time % 600 &lt; 100) {</span>
<span class="fc" id="L137">					return (time / 60) + &quot;:0&quot; + (time % 60); </span>
				} else {
<span class="fc" id="L139">					return (time / 60) + &quot;:&quot; + (time % 60); </span>
				}
			}
		} else {
<span class="nc" id="L143">			return &quot;&quot;;</span>
		}
	}
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>