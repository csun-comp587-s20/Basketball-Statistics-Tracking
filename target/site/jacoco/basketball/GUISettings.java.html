<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>GUISettings.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">basketball</a> &gt; <a href="index.source.html" class="el_package">basketball</a> &gt; <span class="el_source">GUISettings.java</span></div><h1>GUISettings.java</h1><pre class="source lang-java linenums">// Alex Eidt
// Basketball Statistics Tracking Program
// GUISettings
// The GUISettings are used to format Components to keep a consistent style throughout the
// program.
package basketball;
import java.awt.*;
import java.awt.event.*;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;

import javax.swing.*;
import javax.swing.GroupLayout.Alignment;
import javax.swing.border.*;
import javax.swing.event.*;
import javax.swing.text.*;

@SuppressWarnings(&quot;serial&quot;)
<span class="nc" id="L20">public abstract class GUISettings extends BasketballMain {</span>
	
	// Post: Returns a JLabel with the given 'text' and 'fontSize' while using the colors
    //       given by the 'settings' GameSettings.
    protected static JLabel formatLabel(String text, int fontSize, GameSettings settings) {
<span class="nc" id="L25">    	JLabel label = new JLabel(text, JLabel.CENTER);</span>
<span class="nc" id="L26">        label.setForeground((Color) settings.getSetting(Setting.FONT_COLOR));</span>
<span class="nc" id="L27">        label.setFont(new Font(DEFAULT_FONT_TYPE, Font.BOLD, fontSize));</span>
<span class="nc" id="L28">        return label;</span>
    }
    
    // Post: Formats the given 'frame' with the parameters given.
    protected static void formatFrame(JFrame frame, Component panel, int width, int height) {
<span class="nc" id="L33">        frame.setVisible(true);</span>
<span class="nc" id="L34">        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L35">        frame.setSize(width, height);</span>
<span class="nc" id="L36">        frame.setLocationRelativeTo(null);</span>
<span class="nc" id="L37">        frame.add(panel);</span>
        // Add logo here
        try {
			//frame.setIconImage(ImageIO.read(new File(&quot;logo.jpg&quot;)));
		} catch (Exception e) {
			System.out.println(&quot;Icon not found.&quot;);
		}
<span class="nc" id="L44">    }</span>
    
    // Post: Formats a JButton with the given width, height, font size and colors/font type given in the 'settings'.
    //       Every button is formatted using this method.
    protected static void formatButton(JButton button, int width, int height, int fontSize, GameSettings settings) {
<span class="nc" id="L49">        button.setPreferredSize(new Dimension(width, height));</span>
<span class="nc" id="L50">        button.setFont(new Font(DEFAULT_FONT_TYPE, Font.BOLD, fontSize));</span>
<span class="nc" id="L51">        button.setForeground((Color) settings.getSetting(Setting.FONT_COLOR));</span>
<span class="nc" id="L52">        button.setBackground((Color) settings.getSetting(Setting.BACKGROUND_COLOR));</span>
<span class="nc" id="L53">        button.setBorder(new LineBorder(DEFAULT_TEXT_BORDER_COLOR, 6, ROUNDED_BORDERS));</span>
<span class="nc" id="L54">    	Font originalFont = button.getFont();</span>
    	// Hover Effect
<span class="nc" id="L56">        button.getModel().addChangeListener(new ChangeListener() {</span>
            public void stateChanged(ChangeEvent e) {
<span class="nc bnc" id="L58" title="All 2 branches missed.">                if (button.getModel().isRollover()) { </span>
<span class="nc" id="L59">                	button.setFont(new Font(DEFAULT_FONT_TYPE, Font.BOLD, fontSize + 3));</span>
                } else {
<span class="nc" id="L61">                    button.setFont(originalFont);</span>
                }
<span class="nc" id="L63">            }</span>
        });
<span class="nc" id="L65">    }</span>
    
    // Post: Adds Key Binding to the given 'button' with the given 'keyEvent'.
    protected static void setButtonKey(JButton button, int keyEvent, int inputEvent) {
<span class="nc" id="L69">    	button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).clear();</span>
<span class="nc" id="L70">    	button.getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(keyEvent, inputEvent), &quot;KEY_BINDING&quot;);</span>
<span class="nc" id="L71">    	button.getActionMap().put(&quot;KEY_BINDING&quot;, (Action) button.getActionListeners()[0]);</span>
<span class="nc" id="L72">    }</span>
    
    // Post: Returns an array of JButton with names given by 'buttonNames' and dimensions given by 'size'.
    protected static JButton[] createButtonArray(String[] buttonNames, int[] size, GameSettings settings) {
<span class="nc" id="L76">    	JButton[] list = new JButton[buttonNames.length];</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">    	for (int i = 0; i &lt; buttonNames.length; i++) {</span>
<span class="nc" id="L78">    		JButton btn = new JButton(buttonNames[i]);</span>
<span class="nc" id="L79">    		formatButton(btn, (int) getDimension(formatLabel(buttonNames[i], size[i] + 8, settings)).getWidth() + ICON_SIZE,</span>
    				          BUTTON_HEIGHT, size[i], settings);
<span class="nc" id="L81">    		list[i] = btn;</span>
    	}
<span class="nc" id="L83">    	return list;</span>
    }
    
    // Post: Returns a JTextArea formatted using 'settings' with given 'width' and 'height'.
    public static JTextArea formatTextArea(int width, int height, GameSettings settings) {
<span class="nc" id="L88">    	JTextArea area = new JTextArea();</span>
<span class="nc" id="L89">    	area.setSize(width, height);</span>
<span class="nc" id="L90">        area.setEditable(false);</span>
<span class="nc" id="L91">        area.setForeground((Color) settings.getSetting(Setting.FONT_COLOR));</span>
<span class="nc" id="L92">        area.setBackground((Color) settings.getSetting(Setting.BACKGROUND_COLOR));</span>
<span class="nc" id="L93">        area.setFont(new Font(DEFAULT_FONT_TYPE, Font.BOLD, 35));</span>
<span class="nc" id="L94">        area.setLineWrap(true);</span>
<span class="nc" id="L95">        area.setWrapStyleWord(true);</span>
<span class="nc" id="L96">        return area;</span>
    }
    
    // Post: Formats the given JPanel 'panel'.
    public static void formatPanel(JPanel panel, Component[] components, Border border,
    		                       LayoutManager layout, Color bckgrnd) {
    	// Add components to panel
<span class="nc bnc" id="L103" title="All 2 branches missed.">    	for (Component component : components) {</span>
<span class="nc" id="L104">    		panel.add(component);</span>
    	}
    	// Set layout of panel
<span class="nc bnc" id="L107" title="All 2 branches missed.">    	if (layout == null) {</span>
<span class="nc" id="L108">    		panel.setLayout(new BoxLayout(panel, BoxLayout.Y_AXIS));</span>
    	} else {
<span class="nc" id="L110">        	panel.setLayout(layout);</span>
    	}
    	// Set border of panel if necessary
<span class="nc bnc" id="L113" title="All 2 branches missed.">    	if (border != null) {</span>
<span class="nc" id="L114">    		panel.setBorder(border);</span>
    	}
<span class="nc" id="L116">    	panel.setBackground(bckgrnd);</span>
<span class="nc" id="L117">    }</span>
    
    // Post: Returns a JScrollPane for the given JPanel 'panel'.
    public static JScrollPane addScrollPane(Component panel) {
<span class="nc" id="L121">    	JScrollPane scrollPane = new JScrollPane(panel);</span>
<span class="nc" id="L122">        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);</span>
<span class="nc" id="L123">        scrollPane.setHorizontalScrollBarPolicy(JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);</span>
<span class="nc" id="L124">        scrollPane.setPreferredSize(new Dimension(SCREENWIDTH, SCREENHEIGHT));</span>
<span class="nc" id="L125">        scrollPane.getVerticalScrollBar().setUnitIncrement(16);</span>
<span class="nc" id="L126">        scrollPane.setBorder(null);</span>
        // Set Default View position to start at the top of the panel
<span class="nc" id="L128">        SwingUtilities.invokeLater(new Runnable() {</span>
            public void run() {
<span class="nc" id="L130">                scrollPane.getViewport().setViewPosition(new Point(0, 0));</span>
<span class="nc" id="L131">            }</span>
        });	
<span class="nc" id="L133">        return scrollPane;</span>
    }
    
    // Post: Creates a pop-up window with the given 'text'.
    protected static void confirmPanel(String text, String frameText, int fontSize, GameSettings settings) {
<span class="nc" id="L138">    	Color background = (Color) settings.getSetting(Setting.BACKGROUND_COLOR);</span>
<span class="nc" id="L139">        JFrame frame = new JFrame(frameText); </span>
        
<span class="nc" id="L141">        JPanel askPanel = new JPanel();</span>
<span class="nc" id="L142">        askPanel.setBackground(background);</span>
        
<span class="nc" id="L144">        JTextPane ask = formatTextPane(text, fontSize, settings);  </span>
<span class="nc" id="L145">        askPanel.setBorder(new MatteBorder(20, 20, 20, 20, background));</span>
<span class="nc" id="L146">        askPanel.add(ask, Alignment.CENTER);</span>
<span class="nc" id="L147">        askPanel.setLayout(new GridLayout(1, 1));</span>
        
<span class="nc" id="L149">        JPanel buttonPanel = new JPanel();</span>
<span class="nc" id="L150">        buttonPanel.setBackground(background);</span>
<span class="nc" id="L151">        noButton(frame, buttonPanel, fontSize - 5, 150, 80, &quot;Okay&quot;, settings, false);</span>
        
<span class="nc" id="L153">        JPanel panels = new JPanel();</span>
<span class="nc" id="L154">        panels.add(askPanel);</span>
<span class="nc" id="L155">        panels.add(buttonPanel);</span>
<span class="nc" id="L156">        panels.setBackground(background);</span>
<span class="nc" id="L157">        panels.setLayout(new BoxLayout(panels, BoxLayout.Y_AXIS));</span>
<span class="nc" id="L158">        formatFrame(frame, panels, SCREENWIDTH / 2, (int) (SCREENHEIGHT / 2.5));</span>
<span class="nc" id="L159">    }</span>
    
    // Post: Returns a JTextPane with the given 'text' and 'fontSize'.
    protected static JTextPane formatTextPane(String text, int fontSize, GameSettings settings) {
<span class="nc" id="L163">        JTextPane pane = new JTextPane();</span>
<span class="nc" id="L164">        pane.setEditable(false);</span>
<span class="nc" id="L165">        pane.setFont(new Font(DEFAULT_FONT_TYPE, Font.PLAIN, fontSize));</span>
<span class="nc" id="L166">        pane.setBackground((Color) settings.getSetting(Setting.BACKGROUND_COLOR));</span>
<span class="nc" id="L167">        StyledDocument doc = pane.getStyledDocument();</span>
<span class="nc" id="L168">        SimpleAttributeSet center = new SimpleAttributeSet();</span>
<span class="nc" id="L169">        StyleConstants.setAlignment(center, StyleConstants.ALIGN_CENTER);</span>
<span class="nc" id="L170">        doc.setParagraphAttributes(0, doc.getLength(), center, false);</span>
<span class="nc" id="L171">        Style style = pane.addStyle(&quot;&quot;, null);</span>
<span class="nc" id="L172">        StyleConstants.setForeground(style, DEFAULT_FONT_COLOR);</span>
		try {
<span class="nc" id="L174">			doc.insertString(doc.getLength(), text, style);</span>
<span class="nc" id="L175">		} catch (BadLocationException e1) {</span>
<span class="nc" id="L176">			e1.printStackTrace();</span>
<span class="nc" id="L177">		}   </span>
<span class="nc" id="L178">		return pane;</span>
    }
    
    // Post: Adds a button that closes the given JFrame 'frame'.
    protected static void noButton(JFrame frame, JPanel panel, int fontsize, int width, int height, 
    		                       String text, GameSettings settings, boolean isSettings) {
<span class="nc" id="L184">        JButton no = new JButton(text);</span>
<span class="nc" id="L185">        formatButton(no, width, height, fontsize, settings);</span>
<span class="nc bnc" id="L186" title="All 2 branches missed.">        if (isSettings) {</span>
<span class="nc" id="L187">        	no.setBackground(DEFAULT_BACKGROUND_COLOR);</span>
        }
<span class="nc" id="L189">        no.addActionListener(new ActionListener() {</span>
            public void actionPerformed(ActionEvent e) {
<span class="nc" id="L191">                frame.dispose();</span>
<span class="nc" id="L192">            }</span>
        });
<span class="nc" id="L194">        panel.add(no);</span>
<span class="nc" id="L195">    }</span>
    
    // Post: Returns the width if d = Dim.WIDTH and height if d = Dim.HEIGHT
    //       of the 'component'.
    protected static Dimension getDimension(Component component) {
<span class="nc" id="L200">    	JFrame frame = new JFrame();</span>
<span class="nc" id="L201">    	frame.add(component);</span>
<span class="nc" id="L202">    	frame.pack();</span>
<span class="nc" id="L203">    	int height = frame.getHeight();</span>
<span class="nc" id="L204">    	int width = frame.getWidth();</span>
<span class="nc" id="L205">    	frame = null;</span>
<span class="nc" id="L206">    	return new Dimension(width, height);</span>
    }
    
    // Post: Adds an Icon with file name 'image' to the given button at index 'index'
    //       in 'buttons'.
    protected void setIcon(JButton[] buttons, int index, String image) {
    	try {
<span class="nc" id="L213">        	Image icon = new ImageIcon(this.getClass().getResource(image)).getImage();</span>
<span class="nc" id="L214">        	Image newImage = icon.getScaledInstance(ICON_SIZE, ICON_SIZE, java.awt.Image.SCALE_SMOOTH);  </span>
<span class="nc" id="L215">        	buttons[index].setIcon(new ImageIcon(newImage));</span>
<span class="nc" id="L216">    	} catch (Exception e) {</span>
<span class="nc" id="L217">    		System.out.println(image + &quot; is not in the directory.&quot;);</span>
<span class="nc" id="L218">    		System.out.println(&quot;Make sure to store all icons in a source folder called 'Image'.&quot;);</span>
<span class="nc" id="L219">    	}</span>
<span class="nc" id="L220">    }</span>
    
    // Post: Adds an Icon with file name 'image' to the given JLabel 'component'.
    protected void setIcon(JLabel component, String image) {
    	try {
<span class="nc" id="L225">        	Image icon = new ImageIcon(this.getClass().getResource(image)).getImage();</span>
<span class="nc" id="L226">        	Image newImage = icon.getScaledInstance(ICON_SIZE, ICON_SIZE, java.awt.Image.SCALE_SMOOTH);  </span>
<span class="nc" id="L227">        	component.setIcon(new ImageIcon(newImage));</span>
<span class="nc" id="L228">    	} catch (Exception e) {</span>
<span class="nc" id="L229">    		System.out.println(image + &quot; is not in the directory.&quot;);</span>
<span class="nc" id="L230">    		System.out.println(&quot;Make sure to store all icons in a source folder called 'Image'.&quot;);</span>
<span class="nc" id="L231">    	}</span>
<span class="nc" id="L232">    }</span>
    
    // Post: Reformats the given button at index 'index' in 'buttons' to align text and icon.
    protected void setButton(JButton[] buttons, int index, Border border) {
<span class="nc" id="L236">    	buttons[index].setHorizontalAlignment(SwingConstants.LEFT);</span>
<span class="nc" id="L237">    	buttons[index].setHorizontalTextPosition(SwingConstants.RIGHT);</span>
<span class="nc" id="L238">    	buttons[index].setBorder(null);</span>
<span class="nc" id="L239">    }</span>
    
    // Post: Adds an icon to each JButton in 'buttons' and aligns the buttons text with the icon.
    protected void formatIcons(JButton[] buttons, int[] indices, String[] icons) {
<span class="nc bnc" id="L243" title="All 2 branches missed.">    	for (int i = 0; i &lt; indices.length; i++) {</span>
<span class="nc" id="L244">    		setIcon(buttons, indices[i], icons[i]);</span>
<span class="nc" id="L245">    		setButton(buttons, indices[i], null);</span>
    	}
<span class="nc" id="L247">    }</span>
    
    // Post: Switches the current window to one that asks the user to confirm their selection by clicking a 'Yes' or 'No'
    //       button.
    protected void confirmPane(JPanel pane, JFrame frame, ActionListener noButton, ActionListener yesButton, 
    		                   String text, String imageName, GameSettings settings) {
<span class="nc" id="L253">    	pane.removeAll();</span>
<span class="nc" id="L254">    	frame.setTitle(text);</span>
<span class="nc" id="L255">    	frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);</span>
<span class="nc" id="L256">    	Color background = (Color) settings.getSetting(Setting.BACKGROUND_COLOR);</span>

<span class="nc" id="L258">        JLabel doneMessage = formatLabel(&quot;   &quot; + text, FONT_SIZE, settings);</span>
<span class="nc" id="L259">        setIcon(doneMessage, imageName);</span>
<span class="nc" id="L260">        JPanel confirmPanel = panelfy(doneMessage, background, null, </span>
        		                      new MatteBorder(BORDER_SIZE * 8, BORDER_SIZE, BORDER_SIZE * 8, BORDER_SIZE, background));
        
<span class="nc" id="L263">        JButton yes = new JButton(&quot;Yes&quot;);</span>
<span class="nc" id="L264">        formatButton(yes, BUTTON_HEIGHT * 3, BUTTON_HEIGHT, FONT_SIZE * 3 / 4, settings);</span>
<span class="nc" id="L265">        yes.setBorder(null);</span>
<span class="nc" id="L266">        yes.addActionListener(yesButton);</span>
<span class="nc" id="L267">        JPanel yesPanel = panelfy(yes, background, null, new MatteBorder(BORDER_SIZE * 3, 0, BORDER_SIZE * 3, 0, background));</span>
<span class="nc" id="L268">        frame.getRootPane().setDefaultButton(yes);</span>
        
<span class="nc" id="L270">        JButton no = new JButton(&quot;No&quot;);</span>
<span class="nc" id="L271">        formatButton(no, BUTTON_HEIGHT * 3, BUTTON_HEIGHT, FONT_SIZE * 3 / 4, settings);</span>
<span class="nc" id="L272">        no.setBorder(null);</span>
<span class="nc" id="L273">        no.addActionListener(noButton);</span>
<span class="nc" id="L274">        setButtonKey(no, KeyEvent.VK_ESCAPE, 0);</span>
<span class="nc" id="L275">        JPanel noPanel = panelfy(no, background, null, null);</span>
        
<span class="nc" id="L277">        JPanel panels = new JPanel();</span>
<span class="nc" id="L278">		formatPanel(panels, new Component[] {confirmPanel, yesPanel, noPanel}, null, null, background);</span>

<span class="nc" id="L280">		JPanel total = panelfy(panels, background, new FlowLayout(1, 100, 100), null);</span>
<span class="nc" id="L281">		pane.add(total);</span>
<span class="nc" id="L282">		pane.repaint();</span>
<span class="nc" id="L283">		pane.revalidate();</span>
<span class="nc" id="L284">    }</span>
    
    // Post: Adds the 'component' to a JPanel with the background color 'background' with the given
    //       'layout' and 'border'.
    protected static JPanel panelfy(Component component, Color background, LayoutManager layout, Border border) {
<span class="nc" id="L289">    	JPanel panel = new JPanel();</span>
<span class="nc bnc" id="L290" title="All 2 branches missed.">    	if (layout != null) {</span>
<span class="nc" id="L291">    		panel.setLayout(layout);</span>
    	}
<span class="nc bnc" id="L293" title="All 2 branches missed.">    	if (border != null) {</span>
<span class="nc" id="L294">    		panel.setBorder(border);</span>
    	}
<span class="nc bnc" id="L296" title="All 2 branches missed.">    	if (background != null) {</span>
<span class="nc" id="L297">        	panel.setBackground(background);</span>
    	}
<span class="nc" id="L299">    	panel.add(component);</span>
<span class="nc" id="L300">    	return panel;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.4.201905082037</span></div></body></html>